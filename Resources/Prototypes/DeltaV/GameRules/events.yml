- type: entity
  id: ListeningPost
  parent: BaseGameRule
  noSpawn: true
  components:
  - type: StationEvent
    earliestStart: 15
    weight: 5
    minimumPlayers: 25
    maxOccurrences: 1
    duration: null
    chaos:
      Hostile: 150
  - type: RuleGrids
  - type: LoadFarGridRule
    path: /Maps/Shuttles/DeltaV/listening_post.yml
    distanceModifier: 13
  - type: DebrisSpawnerRule
    count: 6
    distanceModifier: 3
  # TODO: funny trolling or intel related objectives
  - type: AntagLoadProfileRule
  - type: AntagSelection
    agentName: listening-post-round-end-agent-name
    definitions:
    - spawnerPrototype: SpawnPointGhostSyndicateListener
      min: 2
      max: 2
      pickPlayer: false
      startingGear: SyndicateListenerGear
      roleLoadout:
      - RoleSurvivalStandard
      components:
      - type: RandomMetadata
        nameSegments:
        - names_death_commando
      - type: AutoImplant
        implants:
        - DeathAcidifierImplant
      - type: NpcFactionMember
        factions:
        - Syndicate
      mindComponents:
      - type: ListeningPostRole
        prototype: ListeningPost

# Mid round antag spawns

- type: entity
  parent: BaseGameRule
  id: Fugitive
  components:
  - type: GameRule
    chaosScore: 100
  - type: StationEvent
    minimumPlayers: 40 # it's really easy to find fugitives on lowpop
    duration: null
    chaos:
      Hostile: 25
  - type: FugitiveRule
  - type: AntagLoadProfileRule
  - type: AntagObjectives
    objectives:
    - FugitiveEscapeObjective
  - type: AntagSelection
    agentName: fugitive-round-end-agent-name
    definitions:
    - spawnerPrototype: SpawnPointGhostFugitive
      min: 1
      max: 1
      pickPlayer: false
      startingGear: FugitiveGear
      roleLoadout:
      - RoleSurvivalStandard
      components:
      - type: RandomMetadata
        nameSegments:
        - fake_human_first
        - fake_human_last
      - type: EmitSoundOnSpawn # fell out of the ceiling
        sound: /Audio/Effects/clang.ogg
      mindComponents:
      - type: FugitiveRole
        prototype: Fugitive

- type: entity
  parent: BaseGameRule
  id: SyndicateRecruiter
  components:
  - type: GameRule
    chaosScore: 300
  - type: StationEvent
    earliestStart: 15
    weight: 4
    minimumPlayers: 20
    maxOccurrences: 1
    duration: null
    chaos:
      Hostile: 75
      Medical: 75
  - type: RuleGrids
  - type: LoadMapRule
    preloadedGrid: SyndieRecruiterShip
  - type: AntagSpawner
    prototype: MobHuman
  - type: AntagObjectives
    objectives:
    - RecruiterEscapeObjective
    - RecruiterRecruitingObjective
    - RecruiterKeepPenObjective
  - type: AntagSelection
    agentName: recruiter-round-end-agent-name
    definitions:
    - spawnerPrototype: SpawnPointGhostRecruiter
      min: 1
      max: 1
      pickPlayer: false
      startingGear: SyndicateRecruiterGear
      components:
      - type: RandomMetadata
        nameSegments:
        - fake_human_first #todo change
        - fake_human_last #todo change
      - type: RandomHumanoidAppearance
        randomizeName: false
      - type: NpcFactionMember
        factions:
        - Syndicate
      mindComponents:
      - type: RecruiterRole
        prototype: Recruiter
      - type: RoleBriefing
        briefing: Find candidates, conduct interviews and seal the deal by having them sign with your special recruiter's pen.

- type: entity
  parent: BaseGameRule
  id: SynthesisSpecialist
  components:
  - type: StationEvent
    earliestStart: 15
    weight: 4
    minimumPlayers: 20
    maxOccurrences: 1
    duration: 1
    chaos:
      Hostile: 75
      Medical: 75
  - type: GameRule
    chaosScore: 300
  - type: RuleGrids
  - type: LoadMapRule
    preloadedGrid: SyndieSynthesisShip
  - type: AntagSpawner
  - type: AntagObjectives
    objectives:
    - SynthesisSurviveObjective
    - SynthesisPrescribeObjective
  - type: AntagSelection
    agentName: synthesis-round-end-agent-name
    definitions:
    - spawnerPrototype: SpawnPointGhostSynthesis
      min: 2
      max: 2
      pickPlayer: false
      startingGear: SyndicateSynthesisGear
      components:
      - type: RandomMetadata
        nameSegments:
        - fake_human_first #todo change
        - fake_human_last #todo change
      - type: RandomHumanoidAppearance
        randomizeName: false
      - type: NpcFactionMember
        factions:
        - Syndicate
      mindComponents:
      - type: SynthesisRole
        prototype: SynthesisSpecialist
      - type: RoleBriefing
        briefing: synthesis-role-briefing
